{"version":3,"sources":["contexts/CurrentUserContext.js","components/ProtectedRoute/ProtectedRoute.js","components/AuthForm/AuthForm.js","utils/auth.js","components/InfoTooltip/InfoTooltip.js","components/Login/Login.js","components/Register/Register.js","images/logo-mesto.svg","components/Header/Header.js","components/Footer/Footer.js","components/Card/Card.js","components/Main/Main.js","components/PopupWithForm/PopupWithForm.js","components/EditAvatarPopup/EditAvatarPopup.js","components/EditProfilePopup/EditProfilePopup.js","components/AddPlacePopup/AddPlacePopup.js","components/ImagePopup/ImagePopup.js","utils/utils.js","utils/api.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","ProtectedRoute","Component","component","props","loggedIn","to","AuthForm","title","children","className","BASE_URL","InfoTooltip","size","isOpened","infotooltipStatus","onClose","infotooltipMessage","onInfotooltipClose","classPopupOpened","classResisterStatus","onClick","aria-label","type","Login","onLogin","isInfotooltipOpened","useState","email","password","userData","setUserData","handleChange","e","target","name","value","placeholder","onChange","required","preventDefault","then","res","catch","err","Register","onRegister","useHistory","href","Header","location","onSignout","src","logo","alt","Footer","year","Date","getFullYear","Card","onCardLike","onCardClick","onCardDelete","card","currentUser","useContext","likesCount","likes","length","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","link","Main","onEditAvatar","onAddPlace","onEditProfile","cards","avatar","id","about","map","PopupWithForm","formName","popupName","isOpen","onSubmit","noValidate","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","evt","current","ref","EditProfilePopup","onUpdateUser","setProfileName","description","setProfileDescription","useEffect","minLength","maxLength","AddPlacePopup","namePlace","setNamePlace","urlPlace","setUrlPlace","ImagePopup","apiSettings","api","config","this","url","headers","fetch","ok","json","Promise","reject","status","result","_displayErr","method","body","JSON","stringify","avatarUrl","alert","authorization","withRouter","setCards","selectedCard","setSelectedCard","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isCardPopupOpen","setIsCardPopupOpen","setIsConfirmPopupOpen","setCurrentUser","setLoggedIn","setInfotooltipMessage","setInfotooltipStatus","setIsInfotooltipOpened","history","closeAllPopups","getUser","getUserInfo","data","checkToken","localStorage","getItem","jwt","Authorization","response","auth","handleInfotooltipClose","push","getCards","item","Provider","pathname","linkUrl","linkName","removeItem","exact","path","likeMethod","likeCard","newCard","newCards","c","deleteMyPlace","message","filter","Error","setItem","token","changeAvatar","createNewPlace","updateUserInfo","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c8bc8078.chunk.js","sourcesContent":["import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n\nexport const currentUser = {};\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { debug } from \"prettier/doc\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {props.loggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />}\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React, { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction AuthForm({title, children}) {\r\n\r\n    return (\r\n<>\r\n        <section>\r\n        <h2 className=\"form__title form__title_theme_page\">{title}</h2>\r\n        <form className=\"form form_theme_page\">\r\n    {children}\r\n        </form>\r\n    </section>\r\n</>\r\n    );\r\n\r\n}\r\n\r\nexport default AuthForm;\r\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ password, email }),\n  }).then((response) => {\n    return response;\n  });\n};\n\nexport function getContent(jwt) {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${jwt}`,\n    },\n  }).then((response) => {\n    return response.json();\n  });\n}\n\nexport function login(email, password) {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ password, email }),\n  }).then((response) => {\n    return response;\n  });\n}\n","import React, { useState } from \"react\";\n\nfunction InfoTooltip({\n  size,\n  isOpened,\n  onClose,\n  infotooltipStatus,\n  infotooltipMessage,\n  onInfotooltipClose,\n}) {\n  const classPopupOpened = isOpened ? \" popup_opened\" : \"\";\n  const classResisterStatus = infotooltipStatus ? \"sucess\" : \"error\";\n\n  return (\n    <section className={\"popup popup_theme_neutral \" + classPopupOpened}>\n      <div className={\"popup__container popup__\" + size}>\n        <div className={\"infotooltip infotooltip_type_\" + classResisterStatus}>\n          <h3 className={\"infotooltip__message\"}>{infotooltipMessage}</h3>\n        </div>\n\n        <button\n          onClick={onInfotooltipClose}\n          aria-label=\"Закрыть окно\"\n          type=\"button\"\n          className=\"button button_close\"\n        />\n      </div>\n    </section>\n  );\n}\n\nexport default InfoTooltip;\n","import React, { useContext, useState, useHistory } from \"react\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\nimport AuthForm from \"../AuthForm/AuthForm\";\nimport * as auth from \"../../utils/auth\";\nimport InfoTooltip from \"../InfoTooltip/InfoTooltip\";\n\nfunction Login({\n  onLogin,\n  infotooltipMessage,\n  infotooltipStatus,\n  isInfotooltipOpened,\n  onInfotooltipClose,\n}) {\n  //const history = useHistory();\n  const [userData, setUserData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n\n    setUserData({\n      ...userData,\n      [name]: value,\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    let { email, password } = userData;\n    onLogin(email, password)\n      .then((res) => {})\n      .catch((err) => {});\n  }\n\n  return (\n    <>\n      <AuthForm title=\"Вход\">\n        <fieldset className=\"form__set\">\n          <label>\n            <input\n              placeholder=\"Email\"\n              type=\"email\"\n              name=\"email\"\n              className=\"form__input form__input_theme_page\"\n              onChange={handleChange}\n              required\n            />\n            <span className=\"form__error\">Ошибка</span>\n          </label>\n          <label>\n            <input\n              placeholder=\"Пароль\"\n              type=\"password\"\n              name=\"password\"\n              className=\"form__input form__input_theme_page\"\n              required\n              onChange={handleChange}\n            />\n            <span className=\"form__error\">Ошибка</span>\n          </label>\n        </fieldset>\n        <button\n          aria-label=\"Войти\"\n          type=\"submit\"\n          className=\"button button_login\"\n          onClick={handleSubmit}\n        >\n          Войти\n        </button>\n      </AuthForm>\n      <InfoTooltip\n        size=\"size_l\"\n        isOpened={isInfotooltipOpened}\n        onClose={false}\n        infotooltipStatus={infotooltipStatus}\n        infotooltipMessage={infotooltipMessage}\n        onInfotooltipClose={onInfotooltipClose}\n      />\n    </>\n  );\n}\n\nexport default Login;\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\nimport AuthForm from \"../AuthForm/AuthForm\";\nimport * as auth from \"../../utils/auth\";\nimport InfoTooltip from \"../InfoTooltip/InfoTooltip\";\n//import InfoTooltip from \"../InfoTooltip/InfoTooltip\";\n\nfunction Register({\n  onRegister,\n  infotooltipMessage,\n  infotooltipStatus,\n  isInfotooltipOpened,\n  onInfotooltipClose,\n}) {\n  const [userData, setUserData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const [message, setMessage] = useState(\"\");\n  const [isResigterSucess, setIsRegisterSucess] = useState(false);\n\n  const history = useHistory();\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n\n    setUserData({\n      ...userData,\n      [name]: value,\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    let { email, password } = userData;\n    onRegister(email, password)\n      .then((res) => {})\n      .catch((err) => {});\n  }\n\n  return (\n    <>\n      <AuthForm title=\"Регистрация\">\n        <fieldset className=\"form__set\">\n          <label>\n            <input\n              placeholder=\"Email\"\n              type=\"email\"\n              name=\"email\"\n              className=\"form__input form__input_theme_page\"\n              required\n              onChange={handleChange}\n            />\n            <span className=\"form__error\">Ошибка</span>\n          </label>\n          <label>\n            <input\n              placeholder=\"Пароль\"\n              type=\"password\"\n              name=\"password\"\n              className=\"form__input form__input_theme_page\"\n              required\n              onChange={handleChange}\n            />\n            <span className=\"form__error\">Ошибка</span>\n          </label>\n        </fieldset>\n        <button\n          aria-label=\"Зарегистрироваться\"\n          type=\"submit\"\n          className=\"button button_register\"\n          onClick={handleSubmit}\n        >\n          Зарегистрироваться\n        </button>\n        <p className=\"form__note\">\n          Уже зарегистрированы? <a href=\"/signin\">Войти</a>\n        </p>\n      </AuthForm>\n      <InfoTooltip\n        size=\"size_l\"\n        isOpened={isInfotooltipOpened}\n        onClose={false}\n        infotooltipStatus={infotooltipStatus}\n        infotooltipMessage={infotooltipMessage}\n        onInfotooltipClose={onInfotooltipClose}\n      />\n    </>\n  );\n}\n\nexport default Register;\n","export default __webpack_public_path__ + \"static/media/logo-mesto.8e568801.svg\";","import logo from \"../../images/logo-mesto.svg\";\n\nfunction Header({ loggedIn, location, email, onSignout }) {\n  return (\n    <>\n      <header className=\"header\">\n        <a href=\"./\">\n          <img src={logo} className=\"logo\" alt=\"Логотип Mesto Russia\" />\n        </a>\n        <div className=\"navbar\">\n          {loggedIn && (\n            <>\n              <p className=\"navbar__user\">{email}</p>\n              <a className=\"navbar__link\" href=\"#\" onClick={onSignout}>\n                Выйти\n              </a>\n            </>\n          )}\n\n          {location === \"/signup\" && (\n            <>\n              <a className=\"navbar__link\" href=\"/signin\">\n                Войти\n              </a>\n            </>\n          )}\n          {location === \"/signin\" && (\n            <>\n              <a className=\"navbar__link\" href=\"/signup\">\n                Регистрация\n              </a>\n            </>\n          )}\n        </div>\n      </header>\n    </>\n  );\n}\n\nexport default Header;\n","function Footer() {\n  const currentTime = new Date();\n  const year = currentTime.getFullYear();\n\n  return (\n    <>\n      <footer className=\"footer\">\n        <p className=\"footer__copyright\">© {year} Mesto Russia</p>\n      </footer>\n    </>\n  );\n}\n\nexport default Footer;\n","import React, { useContext } from \"react\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\n\nfunction Card({ onCardLike, onCardClick, onCardDelete, card }) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const likesCount = card.likes.length;\n\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = card.owner._id === currentUser._id;\n\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = `button button_delete ${\n    isOwn ? \"\" : \"button_visibility_hidden\"\n  }`;\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = `button button_like ${\n    isLiked ? \"button_like-isset\" : \"\"\n  }`;\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleCardDelete() {\n    onCardDelete(card);\n  }\n\n  return (\n    <li className=\"card-item\">\n      <img\n        src={card.link}\n        className=\"card-item__pic\"\n        alt={card.name}\n        onClick={handleClick}\n      />\n      <div className=\"card-item__footer\">\n        <h2 className=\"card-item__title\">{card.name}</h2>\n        <div className=\"card-item__like-area\">\n          <button\n            aria-label=\"Нравится\"\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n          ></button>\n          <p className=\"card-item__like-count\">{likesCount}</p>\n        </div>\n      </div>\n      <button\n        onClick={handleCardDelete}\n        aria-label=\"Удалить карточку\"\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n      ></button>\n    </li>\n  );\n}\n\nexport default Card;\n","import React, { useContext } from \"react\";\nimport Card from \"../Card/Card\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\n\nfunction Main({\n  onEditAvatar,\n  onAddPlace,\n  onEditProfile,\n  onCardClick,\n  cards,\n  onCardLike,\n  onCardDelete,\n}) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <>\n      <main>\n        <section className=\"profile\">\n          <div\n            className=\"profile__avatar-container js-edit-avatar\"\n            onClick={onEditAvatar}\n          >\n            <img\n              className=\"profile__avatar\"\n              src={currentUser.avatar}\n              alt={currentUser.name}\n            />\n          </div>\n          <div className=\"profile__person-info\">\n            <h1 className=\"profile__person\" id=\"profileName\">\n              {currentUser.name}\n            </h1>\n\n            <button\n              aria-label=\"Редактировать\"\n              type=\"button\"\n              className=\"button button_edit\"\n              id=\"editButton\"\n              onClick={onEditProfile}\n            ></button>\n            <p className=\"profile__job\" id=\"profileJob\">\n              {currentUser.about}\n            </p>\n          </div>\n\n          <button\n            aria-label=\"Добавить\"\n            className=\"button button_add\"\n            type=\"button\"\n            onClick={onAddPlace}\n          ></button>\n        </section>\n        <section>\n          <ul className=\"cards\">\n            {cards.map((card) => {\n              return (\n                <Card\n                  key={card._id}\n                  onCardClick={onCardClick}\n                  card={card}\n                  onCardLike={onCardLike}\n                  onCardDelete={onCardDelete}\n                />\n              );\n            })}\n          </ul>\n        </section>\n      </main>\n    </>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction PopupWithForm({\n  size,\n  title,\n  formName,\n  popupName,\n  isOpen,\n  onClose,\n  onSubmit,\n  children,\n}) {\n  const classPopupOpened = isOpen ? \" popup_opened\" : \"\";\n\n  return (\n    <section\n      className={\"popup popup_theme_neutral \" + popupName + classPopupOpened}\n    >\n      <div className={\"popup__container popup__\" + size}>\n        <form onSubmit={onSubmit} className={\"form \" + formName} noValidate>\n          <h2 className=\"form__title\">{title}</h2>\n          {children}\n          <button\n            aria-label=\"Сохранить\"\n            type=\"submit\"\n            className=\"button button_save\"\n          >\n            Сохранить\n          </button>\n        </form>\n        <button\n          onClick={onClose}\n          aria-label=\"Закрыть окно\"\n          type=\"button\"\n          className=\"button button_close\"\n        />\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import React, { useRef } from \"react\";\n\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = useRef();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      size={\"size_m\"}\n      title={\"Обновить аватар\"}\n      popupName={\"js-popup-avatar\"}\n      formName={\"js-form-avatar\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <fieldset className=\"form__set\">\n        <label>\n          <input\n            placeholder=\"Ссылка на аватар\"\n            type=\"url\"\n            name=\"link\"\n            ref={avatarRef}\n            className=\"form__input form__avatar-url\"\n            id=\"js-avatar-url\"\n            required\n          />\n          <span className=\"form__error\" id=\"js-avatar-url-error\">\n            Ошибка\n          </span>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [name, setProfileName] = useState(\"\");\n  const [description, setProfileDescription] = useState(\"\");\n\n  const currentUser = useContext(CurrentUserContext);\n\n  function handleChangeName(evt) {\n    setProfileName(evt.target.value);\n  }\n\n  function handleChangeDescription(evt) {\n    setProfileDescription(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  useEffect(() => {\n    setProfileName(currentUser.name || \"\");\n    setProfileDescription(currentUser.about || \"\");\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm\n      size={\"size_l\"}\n      title={\"Редактировать профиль\"}\n      popupName={\"js-popup-profile\"}\n      formName={\"js-form-profile\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <fieldset className=\"form__set\">\n        <label>\n          <input\n            placeholder=\"Имя\"\n            type=\"text\"\n            className=\"form__input form__profile-name\"\n            name=\"name\"\n            value={name}\n            id=\"js-profile-name\"\n            required\n            minLength=\"2\"\n            maxLength=\"40\"\n            onChange={handleChangeName}\n          />\n          <span className=\"form__error\" id=\"js-profile-name-error\">\n            Ошибка\n          </span>\n        </label>\n        <label>\n          <input\n            placeholder=\"О себе\"\n            type=\"text\"\n            className=\"form__input form__profile-job\"\n            name=\"description\"\n            value={description}\n            id=\"js-profile-job\"\n            required\n            minLength=\"2\"\n            maxLength=\"200\"\n            onChange={handleChangeDescription}\n          />\n          <span className=\"form__error\" id=\"js-profile-job-error\">\n            Ошибка\n          </span>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React, { useRef, useState } from \"react\";\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\n\nfunction AddPlacePopup({ onAddPlace, isOpen, onClose }) {\n  const [namePlace, setNamePlace] = useState(\"\");\n  const [urlPlace, setUrlPlace] = useState(\"\");\n\n  function handleChangeName(evt) {\n    setNamePlace(evt.target.value);\n  }\n\n  function handleChangeUrl(evt) {\n    setUrlPlace(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    onAddPlace({\n      name: namePlace,\n      link: urlPlace,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      size={\"size_l\"}\n      title={\"Новое место\"}\n      popupName={\"js-popup-card\"}\n      formName={\"js-form-card\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <fieldset className=\"form__set\">\n        <label>\n          <input\n            placeholder=\"Название\"\n            type=\"text\"\n            className=\"form__input form__card-name\"\n            name=\"namePlace\"\n            id=\"js-card-name\"\n            value={namePlace}\n            onChange={handleChangeName}\n            required\n            minLength=\"2\"\n            maxLength=\"30\"\n          />\n          <span className=\"form__error\" id=\"js-card-name-error\">\n            Ошибка\n          </span>\n        </label>\n        <label>\n          <input\n            placeholder=\"Ссылка на картинку\"\n            type=\"url\"\n            name=\"urlPlace\"\n            value={urlPlace}\n            onChange={handleChangeUrl}\n            className=\"form__input form__card-url\"\n            id=\"js-card-url\"\n            required\n          />\n          <span className=\"form__error\" id=\"js-card-url-error\">\n            Ошибка\n          </span>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","function ImagePopup({ popupName, onClose, isOpen, card }) {\n  const classPopupOpened = isOpen ? \" popup_opened\" : \"\";\n  return (\n    <>\n      <section\n        className={\"popup popup_theme_dark \" + popupName + classPopupOpened}\n      >\n        <ul className=\"preview\">\n          <li>\n            <img src={card.link} alt={card.name} className=\"preview__image\" />\n            <p className=\"preview__title\">{card.name}</p>\n            <button\n              onClick={onClose}\n              aria-label=\"Закрыть окно\"\n              type=\"button\"\n              className=\"button button_close\"\n            />\n          </li>\n        </ul>\n      </section>\n    </>\n  );\n}\n\nexport default ImagePopup;\n","export const validatorSettings = {\n  formSelector: \".form\",\n  inputSelector: \".form__input\",\n  submitButtonSelector: \".button_save\",\n  inactiveButtonClass: \"button_disabled\",\n  inputErrorClass: \"form__input_type_error\",\n  errorClass: \"form__error_active\",\n};\n\nexport const apiSettings = {\n  url: \"https://mesto.nomoreparties.co/v1/cohort-17/\",\n  //url: \"https://localhost:3000/\",\n  headers: \"Content-Type : application/json\",\n  token: \"26855ddc-0b32-46bf-95f9-95a4c6a68cde\",\n};\n","import { apiSettings } from \"./utils\";\n\nclass Api {\n  constructor(config) {\n    this.url = config.url;\n    this.headers = config.headers;\n  }\n\n  //Забираем все карточки\n  getCards() {\n    return fetch(`${this.url}cards`, { headers: this.headers })\n      .then((res) => {\n        if (res.ok) return res.json();\n        return Promise.reject(`Ошибка получения карточек: ${res.status}`);\n      })\n      .then((result) => {\n        return result;\n        // console.log(result);\n      })\n      .catch((err) => this._displayErr(err));\n  }\n\n  //Получаем информацию о пользователе\n  getUserInfo() {\n    return fetch(`${this.url}users/me`, { headers: this.headers })\n      .then((res) => {\n        if (res.ok) return res.json();\n        return Promise.reject(\n          `Ошибка получения информации о пользователе: ${res.status}`\n        );\n      })\n      .then((result) => {\n        //console.log(result);\n        return result;\n      })\n      .catch((err) => this._displayErr(err));\n  }\n\n  //обновляем информацию о пользователе\n  updateUserInfo(name, about) {\n    return fetch(`${this.url}users/me`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    })\n      .then((res) => {\n        if (res.ok) return res.json();\n        return Promise.reject(\n          `Ошибка добавления информации о пользователе: ${res.status}`\n        );\n      })\n      .then((result) => {\n        return result;\n      })\n      .catch((err) => this._displayErr(err));\n  }\n\n  //Добавляем новое место\n  createNewPlace(name, link) {\n    return fetch(`${this.url}cards`, {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    })\n      .then((res) => {\n        if (res.ok) return res.json();\n        return Promise.reject(\n          `Ошибка добавления новой карточки: ${res.status}`\n        );\n      })\n      .then((result) => {\n        return result;\n      })\n      .catch((err) => this._displayErr(err));\n  }\n\n  //Удаляем карточку\n  deleteMyPlace(id) {\n    return fetch(`${this.url}cards/${id}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    })\n      .then((res) => {\n        if (res.ok) return res.json();\n        return Promise.reject(\n          `Ошибка удаления карточки ${id} карточки: ${res.status}`\n        );\n      })\n      .then((result) => {\n        return result;\n      })\n      .catch((err) => this._displayErr(err));\n  }\n\n  //Ставим лайк\n  likeCard(id, method) {\n    return fetch(`${this.url}cards/likes/${id}`, {\n      method: method,\n      headers: this.headers,\n    })\n      .then((res) => {\n        if (res.ok) return res.json();\n        return Promise.reject(`Ошибка лайканья ${id} карточки: ${res.status}`);\n      })\n      .then((result) => {\n        return result;\n      })\n      .catch((err) => this._displayErr(err));\n  }\n\n  //Ставим новый аватар\n  changeAvatar(avatarUrl) {\n    return fetch(`${this.url}users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: avatarUrl,\n      }),\n    })\n      .then((res) => {\n        if (res.ok) return res.json();\n        return Promise.reject(`Ошибка замены аватара: ${res.status}`);\n      })\n      .then((result) => {\n        return result;\n      })\n      .catch((err) => this._displayErr(err));\n  }\n\n  _displayErr(err) {\n    alert(err);\n  }\n}\n\nconst api = new Api({\n  url: apiSettings.url,\n  headers: {\n    authorization: apiSettings.token,\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport {\n  Route,\n  Switch,\n  withRouter,\n  useHistory,\n  Redirect,\n} from \"react-router-dom\";\n\nimport {\n  CurrentUserContext,\n  currentUser,\n} from \"../../contexts/CurrentUserContext\";\n\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\nimport Login from \"../Login/Login\";\nimport Register from \"../Register/Register\";\nimport Header from \"./../Header/Header\";\n\nimport Footer from \"./../Footer/Footer\";\nimport Main from \"./../Main/Main\";\n\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\nimport EditAvatarPopup from \"../EditAvatarPopup/EditAvatarPopup\";\nimport EditProfilePopup from \"../EditProfilePopup/EditProfilePopup\";\nimport AddPlacePopup from \"../AddPlacePopup/AddPlacePopup\";\nimport ImagePopup from \"../ImagePopup/ImagePopup\";\nimport api from \"../../utils/api\";\nimport * as auth from \"../../utils/auth\";\n\nfunction App() {\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState({});\n\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isCardPopupOpen, setIsCardPopupOpen] = useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\n\n  const [currentUser, setCurrentUser] = useState(false);\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userData, setUserData] = useState({\n    email: \"\",\n  });\n\n  const [infotooltipMessage, setInfotooltipMessage] = useState(\"\");\n  const [infotooltipStatus, setInfotooltipStatus] = useState(\"\");\n  const [isInfotooltipOpened, setIsInfotooltipOpened] = useState(false);\n\n  const history = useHistory();\n\n  const closeAllPopups = () => {\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsCardPopupOpen(false);\n    setIsConfirmPopupOpen(false);\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  const handleCardClick = (item) => {\n    setIsCardPopupOpen(true);\n    setSelectedCard(item);\n  };\n\n  const handleUpdateUser = (userData) => {\n    api\n      .updateUserInfo(userData.name, userData.about)\n      .then((res) => {\n        closeAllPopups();\n        getUser();\n      })\n      .catch((err) => {\n        alert(\"Error: \" + err);\n      });\n  };\n\n  const handleUpdateAvatar = ({ avatar }) => {\n    api\n      .changeAvatar(avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        alert(\"Error: \" + err);\n      });\n  };\n\n  const handleAddPlaceSubmit = ({ name, link }) => {\n    api\n      .createNewPlace(name, link)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        alert(\"Error: \" + err);\n      });\n  };\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    const likeMethod = `${isLiked ? \"DELETE\" : \"PUT\"}`;\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api\n      .likeCard(card._id, likeMethod)\n      .then((newCard) => {\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        // Обновляем стейт\n        setCards(newCards);\n      })\n      .catch((err) => {\n        alert(\"Error: \" + err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteMyPlace(card._id)\n      .then((res) => {\n        if (!res.message) return new Promise.reject(\"Ошибка удаления\");\n        const newCards = cards.filter((i) => {\n          return i._id !== card._id;\n        });\n        setCards(newCards);\n      })\n      .catch((err) => {\n        alert(\"Error: \" + err);\n      });\n  }\n\n  function getUser() {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        alert(\"Error:\" + err);\n      });\n  }\n\n  function checkToken() {\n    if (localStorage.getItem(\"jwt\")) {\n      let jwt = localStorage.getItem(\"jwt\");\n\n      auth.getContent(jwt).then((res) => {\n        if (res.data.email) {\n          setLoggedIn(true);\n          setUserData({\n            email: res.data.email,\n          });\n        }\n      });\n    }\n  }\n\n  function handleInfotooltipClose() {\n    if (infotooltipStatus) {\n      setIsInfotooltipOpened(false);\n      history.push(\"/signin\");\n    }\n    setIsInfotooltipOpened(false);\n  }\n\n  function handleRegister(email, password) {\n    return auth\n      .register(email, password)\n      .then((res) => {\n        if (!res || res.status === 400) {\n          setInfotooltipMessage(\"Что-то пошло не так! Попробуйте ещё раз.\");\n          setInfotooltipStatus(false);\n          setIsInfotooltipOpened(true);\n          throw new Error(\"Ошибка регистрации\");\n        }\n        if (res.ok) {\n          setInfotooltipMessage(\"Вы успешно зарегистрировались!\");\n          setInfotooltipStatus(true);\n          setIsInfotooltipOpened(true);\n        }\n      })\n      .catch((err) => {\n        return Promise.reject(\"ошибка\");\n      });\n  }\n\n  function handleLogin(email, password) {\n    return auth\n      .login(email, password)\n      .then((res) => {\n        if (!res || res.status === 400 || res.status === 401) {\n          setInfotooltipMessage(\"Что-то пошло не так! Попробуйте ещё раз.\");\n          setInfotooltipStatus(false);\n          setIsInfotooltipOpened(true);\n          throw new Error(\"Ошибка регистрации\");\n        }\n        return res.json();\n      })\n      .then((res) => {\n        setLoggedIn(true);\n        localStorage.setItem(\"jwt\", res.token);\n        checkToken();\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        return Promise.reject(\"ошибка\");\n      });\n  }\n\n  function handleSignout() {\n    localStorage.removeItem(\"jwt\");\n    setLoggedIn(false);\n\n    history.push(\"/signin\");\n  }\n\n  useEffect(() => {\n    function getCards() {\n      api\n        .getCards()\n        .then((data) => {\n          const cards = data.map((item) => {\n            return item;\n          });\n          setCards(cards);\n        })\n        .catch((err) => {\n          alert(\"Error:\" + err);\n        });\n    }\n\n    //\n    checkToken();\n    getUser();\n    getCards();\n  }, []);\n\n  useEffect(() => {}, []);\n\n  useEffect(() => {\n    if (loggedIn) {\n      history.push(\"/\");\n    }\n  }, [loggedIn]);\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          loggedIn={loggedIn}\n          location={history.location.pathname}\n          linkUrl=\"signup\"\n          linkName=\"Регистрация\"\n          email={userData.email}\n          onSignout={handleSignout}\n        />\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            onEditAvatar={handleEditAvatarClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditProfile={handleEditProfileClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n          <Route exact path=\"/signup\">\n            <Register\n              onRegister={handleRegister}\n              infotooltipMessage={infotooltipMessage}\n              infotooltipStatus={infotooltipStatus}\n              isInfotooltipOpened={isInfotooltipOpened}\n              onInfotooltipClose={handleInfotooltipClose}\n            />\n          </Route>\n          <Route exact path=\"/signin\">\n            <Login\n              onLogin={handleLogin}\n              infotooltipMessage={infotooltipMessage}\n              infotooltipStatus={infotooltipStatus}\n              isInfotooltipOpened={isInfotooltipOpened}\n              onInfotooltipClose={handleInfotooltipClose}\n            />\n          </Route>\n          {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\n          <Footer />\n        </Switch>\n\n        <ImagePopup\n          popupName={\"js-popup-place\"}\n          onClose={closeAllPopups}\n          isOpen={isCardPopupOpen}\n          card={selectedCard}\n        ></ImagePopup>\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from 'react-router-dom';\nimport \"./index.css\";\nimport App from \"./components/App/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n</BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}